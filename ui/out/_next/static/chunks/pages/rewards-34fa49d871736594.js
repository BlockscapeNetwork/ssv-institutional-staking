(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{62197:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rewards",function(){return n(47689)}])},47689:function(e,t,n){"use strict";n.r(t);var r=n(47568),a=n(70603),s=n(34051),i=n.n(s),c=n(85893),l=n(95283),o=n(85827),u=n(241),d=n(64146),p=n(67294),x=n(9669),m=n.n(x),h=n(88684),f=n(73359),v=n(41664),b=n.n(v),w=n(48764).Buffer;t.default=function(){var e=(0,p.useState)([]),t=e[0],n=e[1],s=(0,p.useState)([]),x=s[0],v=s[1],g=(0,p.useState)([]),N=g[0],k=g[1],j=(0,p.useState)(!1),y=j[0],E=j[1],_=(0,p.useState)(!1),C=_[0],S=_[1],A=(0,o.mA)().address,T=(0,o.LN)().chain,Z="Mainnet"===(null===T||void 0===T?void 0:T.name)?"https://beaconcha.in/validator/":"https://goerli.beaconcha.in/validator/",B=(0,a.Z)((0,f.t)(h.dk,{}),2),F=B[0],O=B[1],M=(O.loading,O.error,O.data,"Goerli"===(null===T||void 0===T?void 0:T.name)?"0x23e33FC2704Bb332C0410B006e8016E7B99CF70A":"Mainnet"===(null===T||void 0===T?void 0:T.name)?"0xe0C8df4270F4342132ec333F6048cb703E7A9c77":"0x0000000000000000000000000000000000000000"),P=(0,p.useCallback)((0,r.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Array,e.next=3,m().get("https://api-goerli.etherscan.io/api?module=account&action=tokennfttx&address=".concat(A,"&contractAddress=").concat(M,"&startblock=5000&endblock=latest&sort=asc&apikey=KUDEE9ZTSCPEGMQE5PK8YN7TIA1ZDM7U9B"));case 3:return n=e.sent,e.next=6,n.data.result.map((function(e){t.push(e.tokenID)}));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))),[]),D=(0,p.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,s,c,o,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new u.Q(window.ethereum),r=new d.Contract(M,l,n),a=new Array,s=new Array,c=0;case 5:if(!(c<(null===t||void 0===t?void 0:t.length))){e.next=32;break}return e.next=8,r.tokenURI(t[c]);case 8:return o=e.sent,e.t0=w,e.next=12,o.split("data:application/json;base64,")[1];case 12:return e.t1=e.sent,p=e.t0.from.call(e.t0,e.t1,"base64").toString("utf8"),e.t2=a,e.next=17,JSON.parse(p);case 17:return e.t3=e.sent,e.next=20,e.t2.push.call(e.t2,e.t3);case 20:return e.t4=s,e.t5=String,e.next=24,JSON.parse(p).name;case 24:return e.t6=e.sent,e.t7=(0,e.t5)(e.t6).split(" 0x")[1].split(" <>")[0],e.t8="0x"+e.t7,e.next=29,e.t4.push.call(e.t4,e.t8);case 29:c++,e.next=5;break;case 32:return e.next=34,a;case 34:return e.t9=e.sent,e.next=37,s;case 37:return e.t10=e.sent,e.abrupt("return",[e.t9,e.t10]);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),I=(0,p.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Array,r=0;case 2:if(!(r<(null===t||void 0===t?void 0:t.length))){e.next=10;break}return e.next=5,F({variables:{pubKey:String(t[r])}});case 5:a=e.sent,n.push(a.data.nodeOperatorByValidator),r++,e.next=2;break;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,p.useEffect)((function(){P().then((function(e){D(e).then((function(e){var t=(0,a.Z)(e,2),r=t[0],s=t[1];n(r),k(s),I(s).then((function(e){v(e),E(!0)}))})),S(!0)}))}),[P,D,I]),C?(0,c.jsx)("main",{className:"min-h-screen",children:(0,c.jsxs)("div",{className:"grid justify-items-center",children:[!y&&(0,c.jsxs)("div",{className:"place-items-center mt-16",children:[(0,c.jsx)("div",{className:"place-self-center text-center",children:"Loading..."}),(0,c.jsx)("br",{}),(0,c.jsx)("progress",{className:"progress progress-primary w-56"})]}),0===x.length&&y&&(0,c.jsx)("div",{className:"place-items-center mt-16",children:(0,c.jsx)("div",{className:"place-self-center text-center text-2xl",children:"No staked ETH positions yet!"})}),y&&(0,c.jsx)("div",{className:"flex flex-col w-full lg:flex-row mt-16",children:t.map((function(e,t){var n;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"divider lg:divider-horizontal "}),(0,c.jsxs)("div",{className:"grid flex-grow card glass bg-base-300 rounded-box place-items-center ",children:[(0,c.jsx)("h1",{className:"card-title mb-2 mt-1 text-2xl",children:null===(n=x[t])||void 0===n?void 0:n.name}),(0,c.jsx)("img",{src:e.image,width:"80%",height:"40%",className:"mb-4"}),(0,c.jsx)("button",{className:"btn btn-primary m-2 mt-5",children:"Withdraw swETH from NFT"}),(0,c.jsx)("div",{className:"mb-2 link-primary link-hover",children:(0,c.jsx)(b(),{href:Z+N[t],children:"Validator details \ud83d\udd17"})})]}),(0,c.jsx)("div",{className:"divider lg:divider-horizontal "})]})}))})]})}):null}}},function(e){e.O(0,[764,526,217,325,774,888,179],(function(){return t=62197,e(e.s=t);var t}));var t=e.O();_N_E=t}]);